<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Using Observational Health Data Sciences and Informatics (OHDSI) Report Generator • OhdsiReportGenerator</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Using Observational Health Data Sciences and Informatics (OHDSI) Report Generator">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">OhdsiReportGenerator</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.1.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fa-home fa-lg"></span> Home</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html"><span class="fa fa-info-circle fa-lg"></span> Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/ExampleCode.html">Using Observational Health Data Sciences and Informatics (OHDSI) Report Generator</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html"><span class="fa fa-newspaper-o fa-lg"></span> News</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://ohdsi.github.io/Hades"><img src='https://ohdsi.github.io/Hades/images/hadesMini.png' width=80 height=17 style='vertical-align: top;'></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/OHDSI/OhdsiReportGenerator"><span class="fa fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Using Observational Health Data Sciences and Informatics (OHDSI) Report Generator</h1>
                        <h4 data-toc-skip class="author">Jenna Reps,
Anthony Sena</h4>
            
            <h4 data-toc-skip class="date">2025-05-19</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/OHDSI/OhdsiReportGenerator/blob/develop/vignettes/ExampleCode.Rmd" class="external-link"><code>vignettes/ExampleCode.Rmd</code></a></small>
      <div class="d-none name"><code>ExampleCode.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="using-the-ohdsireportgenerator-package">Using the OhdsiReportGenerator Package<a class="anchor" aria-label="anchor" href="#using-the-ohdsireportgenerator-package"></a>
</h2>
<p>This package enables users to extract characterization, estimation
and prediction results from the OHDSI results (see <a href="https://ohdsi.github.io/Strategus/results-schema/index.html" class="external-link">result
model</a>) generated via R packages such as
<code>PatientLevelPrediction</code>, <code>Characterization</code>,
<code>CohortMethod</code> and <code>SelfControlledCaseSeries</code>.</p>
<div class="section level3">
<h3 id="example-result-database">Example Result Database<a class="anchor" aria-label="anchor" href="#example-result-database"></a>
</h3>
<p>This package provides users with an example OHDSI result database.
This can be accessed via <code><a href="../reference/getExampleConnectionDetails.html">getExampleConnectionDetails()</a></code> and
contains the results of running a demo analysis using the Eunomia R
package sample OMOP CDM data.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ohdsi.github.io/OhdsiReportGenerator/" class="external-link">OhdsiReportGenerator</a></span><span class="op">)</span></span>
<span><span class="co"># create a connection details object to </span></span>
<span><span class="va">connectionDetails</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getExampleConnectionDetails.html">getExampleConnectionDetails</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># create a connection handler to the results</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/OHDSI/ResultModelManager" class="external-link">ResultModelManager</a></span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Loading required package: R6</span></span></code></pre>
<pre><code><span><span class="co">## Loading required package: DatabaseConnector</span></span></code></pre>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ConnectionHandler</span> <span class="op">&lt;-</span> <span class="fu">ResultModelManager</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/ResultModelManager/man/ConnectionHandler.html" class="external-link">ConnectionHandler</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">connectionDetails</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Connecting using SQLite driver</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="extracting-cohorts">Extracting Cohorts<a class="anchor" aria-label="anchor" href="#extracting-cohorts"></a>
</h3>
<p>The cohort details can be extracted using the function
<code>getCohortDefinitions</code> that requires the user to input the
connection handler, schema, table prefix used by CohortGenerator
(default is ‘cg_’) and target cohort ids to restrict to.</p>
<p>The example results are in a sqlite database and use the schema
‘main’.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cohorts</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getCohortDefinitions.html">getCohortDefinitions</a></span><span class="op">(</span></span>
<span>    connectionHandler <span class="op">=</span> <span class="va">ConnectionHandler</span>,</span>
<span>    schema <span class="op">=</span> <span class="st">'main'</span>,</span>
<span>    cgTablePrefix <span class="op">=</span> <span class="st">'cg_'</span>,</span>
<span>    targetIds <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="va">cohorts</span> <span class="op">%&gt;%</span> </span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="st">"json"</span>, <span class="op">-</span><span class="st">"sqlCommand"</span><span class="op">)</span>, </span>
<span>  caption <span class="op">=</span> <span class="st">'The data.frame extracted containing the cohort details minus the json and sqlCommand columns.'</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<table class="table">
<caption>The data.frame extracted containing the cohort details minus
the json and sqlCommand columns.</caption>
<colgroup>
<col width="10%">
<col width="59%">
<col width="6%">
<col width="7%">
<col width="5%">
<col width="10%">
</colgroup>
<thead><tr class="header">
<th align="right">cohortDefinitionId</th>
<th align="left">cohortName</th>
<th align="left">description</th>
<th align="right">subsetParent</th>
<th align="right">isSubset</th>
<th align="right">subsetDefinitionId</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="left">Celecoxib</td>
<td align="left">NA</td>
<td align="right">1</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">Diclofenac</td>
<td align="left">NA</td>
<td align="right">2</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="left">GI bleed</td>
<td align="left">NA</td>
<td align="right">3</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="right">1001</td>
<td align="left">Celecoxib - age 18 to 64 Age 18 to 64</td>
<td align="left">NA</td>
<td align="right">1</td>
<td align="right">NA</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">2001</td>
<td align="left">Diclofenac - age 18 to 64 Age 18 to 64</td>
<td align="left">NA</td>
<td align="right">2</td>
<td align="right">NA</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">1002</td>
<td align="left">Celecoxib - first event with 365 prior obs first event
with 365 prior obs</td>
<td align="left">NA</td>
<td align="right">1</td>
<td align="right">NA</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="right">2002</td>
<td align="left">Diclofenac - first event with 365 prior obs first event
with 365 prior obs</td>
<td align="left">NA</td>
<td align="right">2</td>
<td align="right">NA</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="right">1003</td>
<td align="left">Celecoxib - age 18 to 64 and first event with 365 prior
obs Age 18 to 64, first event with 365 prior obs</td>
<td align="left">NA</td>
<td align="right">1</td>
<td align="right">NA</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="right">2003</td>
<td align="left">Diclofenac - age 18 to 64 and first event with 365
prior obs Age 18 to 64, first event with 365 prior obs</td>
<td align="left">NA</td>
<td align="right">2</td>
<td align="right">NA</td>
<td align="right">3</td>
</tr>
</tbody>
</table>
<p>You can process the cohorts definitions to extract the parent cohorts
and the children for each parent cohort.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">cohorts</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span><span class="op">{</span></span>
<span><span class="va">processedCohorts</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/processCohorts.html">processCohorts</a></span><span class="op">(</span><span class="va">cohorts</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>    parentId <span class="op">=</span> <span class="va">processedCohorts</span><span class="op">$</span><span class="va">parents</span>,</span>
<span>    parentName<span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">processedCohorts</span><span class="op">$</span><span class="va">parents</span><span class="op">)</span></span>
<span>    <span class="op">)</span>, </span>
<span>  caption <span class="op">=</span> <span class="st">'The parent cohorts.'</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="va">processedCohorts</span><span class="op">$</span><span class="va">cohortList</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="op">%&gt;%</span> </span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="st">"json"</span>, <span class="op">-</span><span class="st">"sqlCommand"</span><span class="op">)</span>,</span>
<span>  caption <span class="op">=</span> <span class="st">'The children/subset cohorts for the first parent cohort.'</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<table class="table">
<caption>The children/subset cohorts for the first parent
cohort.</caption>
<colgroup>
<col width="10%">
<col width="59%">
<col width="6%">
<col width="7%">
<col width="5%">
<col width="10%">
</colgroup>
<thead><tr class="header">
<th align="right">cohortDefinitionId</th>
<th align="left">cohortName</th>
<th align="left">description</th>
<th align="right">subsetParent</th>
<th align="right">isSubset</th>
<th align="right">subsetDefinitionId</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="left">Celecoxib</td>
<td align="left">NA</td>
<td align="right">1</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="right">1001</td>
<td align="left">Celecoxib - age 18 to 64 Age 18 to 64</td>
<td align="left">NA</td>
<td align="right">1</td>
<td align="right">NA</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">1002</td>
<td align="left">Celecoxib - first event with 365 prior obs first event
with 365 prior obs</td>
<td align="left">NA</td>
<td align="right">1</td>
<td align="right">NA</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="right">1003</td>
<td align="left">Celecoxib - age 18 to 64 and first event with 365 prior
obs Age 18 to 64, first event with 365 prior obs</td>
<td align="left">NA</td>
<td align="right">1</td>
<td align="right">NA</td>
<td align="right">3</td>
</tr>
</tbody>
</table>
<p>For example, if you created a cohort corresponding to all patients
exposed to drug A with an id of 1 and then created ‘children’ subset
cohorts corresponding to patients exposed to drug A for indication X
with an id 1001 and patients exposed to drug A aged 60+ with a cohort id
1002, then <code>getCohortDefinition()</code> would extract all three of
these cohorts and <code><a href="../reference/processCohorts.html">processCohorts()</a></code> would identify cohort 1
as the parent and cohorts 1,1001,1002 as the children/subset of cohort
1.</p>
<p>You can also extract the subset logic for a subset id:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">subsets</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getCohortSubsetDefinitions.html">getCohortSubsetDefinitions</a></span><span class="op">(</span></span>
<span>    connectionHandler <span class="op">=</span> <span class="va">ConnectionHandler</span>,</span>
<span>    schema <span class="op">=</span> <span class="st">'main'</span>,</span>
<span>    cgTablePrefix <span class="op">=</span> <span class="st">'cg_'</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="va">subsets</span>, </span>
<span>  caption <span class="op">=</span> <span class="st">'The subset cohort logic used in the analysis.'</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<table class="table">
<caption>The subset cohort logic used in the analysis.</caption>
<colgroup>
<col width="2%">
<col width="97%">
</colgroup>
<thead><tr class="header">
<th align="right">subsetDefinitionId</th>
<th align="left">json</th>
</tr></thead>
<tbody><tr class="odd">
<td align="right">1</td>
<td align="left">{</td>
</tr></tbody>
</table>
<p>“name”: “age 18 to 64”, “definitionId”: 1, “subsetOperators”: [ {
“name”: “Age 18 to 64”, “subsetType”: “DemographicSubsetOperator”,
“ageMin”: 18, “ageMax”: 64 } ], “packageVersion”: “0.11.2”,
“identifierExpression”: “targetId * 1000 + definitionId”,
“operatorNameConcatString”: “,”, “subsetCohortNameTemplate”: “<span class="citation">@baseCohortName</span> - <span class="citation">@subsetDefinitionName</span> <span class="citation">@operatorNames</span>” } | | 2|{ “name”: “first event
with 365 prior obs”, “definitionId”: 2, “subsetOperators”: [ { “name”:
“first event with 365 prior obs”, “subsetType”: “LimitSubsetOperator”,
“priorTime”: 365, “followUpTime”: 0, “limitTo”: “firstEver” } ],
“packageVersion”: “0.11.2”, “identifierExpression”: “targetId * 1000 +
definitionId”, “operatorNameConcatString”: “,”,
“subsetCohortNameTemplate”: “<span class="citation">@baseCohortName</span> - <span class="citation">@subsetDefinitionName</span> <span class="citation">@operatorNames</span>” } | | 3|{ “name”: “age 18 to 64
and first event with 365 prior obs”, “definitionId”: 3,
“subsetOperators”: [ { “name”: “Age 18 to 64”, “subsetType”:
“DemographicSubsetOperator”, “ageMin”: 18, “ageMax”: 64 }, { “name”:
“first event with 365 prior obs”, “subsetType”: “LimitSubsetOperator”,
“priorTime”: 365, “followUpTime”: 0, “limitTo”: “firstEver” } ],
“packageVersion”: “0.11.2”, “identifierExpression”: “targetId * 1000 +
definitionId”, “operatorNameConcatString”: “,”,
“subsetCohortNameTemplate”: “<span class="citation">@baseCohortName</span> - <span class="citation">@subsetDefinitionName</span> <span class="citation">@operatorNames</span>” } |</p>
</div>
<div class="section level3">
<h3 id="extracting-characterization-results">Extracting Characterization Results<a class="anchor" aria-label="anchor" href="#extracting-characterization-results"></a>
</h3>
<p>The characterization analysis contains time to event results,
dechallenge-rechallenge, risk factor and cohort incidence results.</p>
<p>The time-to-event results tell you how often a outcome occurs
relative to some target cohort index date on a 1-day, 30-day and 365-day
scale.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tte</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getTimeToEvent.html">getTimeToEvent</a></span><span class="op">(</span></span>
<span>    connectionHandler <span class="op">=</span> <span class="va">ConnectionHandler</span>,</span>
<span>    schema <span class="op">=</span> <span class="st">'main'</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="va">tte</span> <span class="op">%&gt;%</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">.data</span><span class="op">$</span><span class="va">timeScale</span> <span class="op">==</span> <span class="st">'per 365-day'</span><span class="op">)</span>, </span>
<span>  caption <span class="op">=</span> <span class="st">'Example time-to-event results for the 365-day scale.'</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<table style="width:100%;" class="table">
<caption>Example time-to-event results for the 365-day scale.</caption>
<colgroup>
<col width="8%">
<col width="25%">
<col width="5%">
<col width="7%">
<col width="6%">
<col width="7%">
<col width="16%">
<col width="7%">
<col width="6%">
<col width="7%">
</colgroup>
<thead><tr class="header">
<th align="left">databaseName</th>
<th align="left">targetName</th>
<th align="right">targetId</th>
<th align="left">outcomeName</th>
<th align="right">outcomeId</th>
<th align="left">outcomeType</th>
<th align="left">targetOutcomeType</th>
<th align="right">timeToEvent</th>
<th align="right">numEvents</th>
<th align="left">timeScale</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Synthea</td>
<td align="left">Celecoxib</td>
<td align="right">1</td>
<td align="left">GI bleed</td>
<td align="right">3</td>
<td align="left">first</td>
<td align="left">After last target end</td>
<td align="right">365</td>
<td align="right">327</td>
<td align="left">per 365-day</td>
</tr>
<tr class="even">
<td align="left">Synthea</td>
<td align="left">Celecoxib</td>
<td align="right">1</td>
<td align="left">GI bleed</td>
<td align="right">3</td>
<td align="left">first</td>
<td align="left">Before first target start</td>
<td align="right">365</td>
<td align="right">28</td>
<td align="left">per 365-day</td>
</tr>
<tr class="odd">
<td align="left">Synthea</td>
<td align="left">Diclofenac</td>
<td align="right">2</td>
<td align="left">GI bleed</td>
<td align="right">3</td>
<td align="left">first</td>
<td align="left">After last target end</td>
<td align="right">365</td>
<td align="right">114</td>
<td align="left">per 365-day</td>
</tr>
<tr class="even">
<td align="left">Synthea</td>
<td align="left">Diclofenac</td>
<td align="right">2</td>
<td align="left">GI bleed</td>
<td align="right">3</td>
<td align="left">first</td>
<td align="left">Before first target start</td>
<td align="right">365</td>
<td align="right">10</td>
<td align="left">per 365-day</td>
</tr>
<tr class="odd">
<td align="left">Synthea</td>
<td align="left">Celecoxib - age 18 to 64 Age 18 to 64</td>
<td align="right">1001</td>
<td align="left">GI bleed</td>
<td align="right">3</td>
<td align="left">first</td>
<td align="left">After last target end</td>
<td align="right">365</td>
<td align="right">327</td>
<td align="left">per 365-day</td>
</tr>
<tr class="even">
<td align="left">Synthea</td>
<td align="left">Celecoxib - age 18 to 64 Age 18 to 64</td>
<td align="right">1001</td>
<td align="left">GI bleed</td>
<td align="right">3</td>
<td align="left">first</td>
<td align="left">Before first target start</td>
<td align="right">365</td>
<td align="right">28</td>
<td align="left">per 365-day</td>
</tr>
<tr class="odd">
<td align="left">Synthea</td>
<td align="left">Diclofenac - age 18 to 64 Age 18 to 64</td>
<td align="right">2001</td>
<td align="left">GI bleed</td>
<td align="right">3</td>
<td align="left">first</td>
<td align="left">After last target end</td>
<td align="right">365</td>
<td align="right">114</td>
<td align="left">per 365-day</td>
</tr>
<tr class="even">
<td align="left">Synthea</td>
<td align="left">Diclofenac - age 18 to 64 Age 18 to 64</td>
<td align="right">2001</td>
<td align="left">GI bleed</td>
<td align="right">3</td>
<td align="left">first</td>
<td align="left">Before first target start</td>
<td align="right">365</td>
<td align="right">10</td>
<td align="left">per 365-day</td>
</tr>
</tbody>
</table>
<p>The dechallenge-rechallenge analysis shows you how often an outcome
occurs during some target exposure and then how often the target
exposure is stopped shortly after the outcome and whether the outcome
re-occurs when the target exposure restarts:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">drc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getDechallengeRechallenge.html">getDechallengeRechallenge</a></span><span class="op">(</span></span>
<span>    connectionHandler <span class="op">=</span> <span class="va">ConnectionHandler</span>,</span>
<span>    schema <span class="op">=</span> <span class="st">'main'</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="va">drc</span>, </span>
<span>  caption <span class="op">=</span> <span class="st">'Example dechallenge-rechallenge results.'</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<table style="width:100%;" class="table">
<caption>Example dechallenge-rechallenge results.</caption>
<colgroup>
<col width="3%">
<col width="2%">
<col width="2%">
<col width="3%">
<col width="2%">
<col width="6%">
<col width="7%">
<col width="4%">
<col width="4%">
<col width="2%">
<col width="4%">
<col width="4%">
<col width="4%">
<col width="4%">
<col width="4%">
<col width="4%">
<col width="5%">
<col width="4%">
<col width="5%">
<col width="5%">
<col width="4%">
<col width="5%">
</colgroup>
<thead><tr class="header">
<th align="left">databaseName</th>
<th align="left">targetName</th>
<th align="right">targetId</th>
<th align="left">outcomeName</th>
<th align="right">outcomeId</th>
<th align="right">dechallengeStopInterval</th>
<th align="right">dechallengeEvaluationWindow</th>
<th align="right">numExposureEras</th>
<th align="right">numPersonsExposed</th>
<th align="right">numCases</th>
<th align="right">dechallengeAttempt</th>
<th align="right">dechallengeFail</th>
<th align="right">dechallengeSuccess</th>
<th align="right">rechallengeAttempt</th>
<th align="right">rechallengeFail</th>
<th align="right">rechallengeSuccess</th>
<th align="right">pctDechallengeAttempt</th>
<th align="right">pctDechallengeFail</th>
<th align="right">pctDechallengeSuccess</th>
<th align="right">pctRechallengeAttempt</th>
<th align="right">pctRechallengeFail</th>
<th align="right">pctRechallengeSuccess</th>
</tr></thead>
<tbody><tr class="odd">
<td align="left">Synthea</td>
<td align="left">Celecoxib</td>
<td align="right">1</td>
<td align="left">GI bleed</td>
<td align="right">3</td>
<td align="right">30</td>
<td align="right">30</td>
<td align="right">100</td>
<td align="right">80</td>
<td align="right">20</td>
<td align="right">15</td>
<td align="right">10</td>
<td align="right">5</td>
<td align="right">5</td>
<td align="right">1</td>
<td align="right">4</td>
<td align="right">0.75</td>
<td align="right">0.67</td>
<td align="right">0.33</td>
<td align="right">1</td>
<td align="right">0.2</td>
<td align="right">0.8</td>
</tr></tbody>
</table>
<p>It is also possible to find the incidence rates (where we restrict to
all ages, genders and start years):</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ir</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getIncidenceRates.html">getIncidenceRates</a></span><span class="op">(</span></span>
<span>    connectionHandler <span class="op">=</span> <span class="va">ConnectionHandler</span>,</span>
<span>    schema <span class="op">=</span> <span class="st">'main'</span>, </span>
<span>    targetIds <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="va">ir</span> <span class="op">%&gt;%</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span></span>
<span>    <span class="va">subgroupName</span> <span class="op">==</span> <span class="st">'All'</span> <span class="op">&amp;</span></span>
<span>    <span class="va">ageGroupName</span> <span class="op">==</span> <span class="st">'Any'</span> <span class="op">&amp;</span> </span>
<span>    <span class="va">genderName</span> <span class="op">==</span> <span class="st">'Any'</span> <span class="op">&amp;</span>   </span>
<span>    <span class="va">startYear</span> <span class="op">==</span> <span class="st">'Any'</span></span>
<span>  <span class="op">)</span>, </span>
<span>  caption <span class="op">=</span> <span class="st">'Example incidence rate results.'</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<table style="width:100%;" class="table">
<caption>Example incidence rate results.</caption>
<colgroup>
<col width="4%">
<col width="3%">
<col width="2%">
<col width="3%">
<col width="3%">
<col width="3%">
<col width="4%">
<col width="4%">
<col width="3%">
<col width="3%">
<col width="4%">
<col width="4%">
<col width="3%">
<col width="4%">
<col width="5%">
<col width="4%">
<col width="4%">
<col width="3%">
<col width="5%">
<col width="4%">
<col width="3%">
<col width="2%">
<col width="7%">
<col width="6%">
</colgroup>
<thead><tr class="header">
<th align="left">databaseName</th>
<th align="left">targetName</th>
<th align="right">targetId</th>
<th align="left">outcomeName</th>
<th align="right">outcomeId</th>
<th align="right">cleanWindow</th>
<th align="left">subgroupName</th>
<th align="left">ageGroupName</th>
<th align="left">genderName</th>
<th align="left">startYear</th>
<th align="left">tarStartWith</th>
<th align="right">tarStartOffset</th>
<th align="left">tarEndWith</th>
<th align="right">tarEndOffset</th>
<th align="right">personsAtRiskPe</th>
<th align="right">personsAtRisk</th>
<th align="right">personDaysPe</th>
<th align="right">personDays</th>
<th align="right">personOutcomesPe</th>
<th align="right">personOutcomes</th>
<th align="right">outcomesPe</th>
<th align="right">outcomes</th>
<th align="right">incidenceProportionP100p</th>
<th align="right">incidenceRateP100py</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Synthea</td>
<td align="left">Celecoxib</td>
<td align="right">1</td>
<td align="left">GI bleed</td>
<td align="right">3</td>
<td align="right">9999</td>
<td align="left">All</td>
<td align="left">Any</td>
<td align="left">Any</td>
<td align="left">Any</td>
<td align="left">start</td>
<td align="right">0</td>
<td align="left">end</td>
<td align="right">0</td>
<td align="right">1800</td>
<td align="right">1800</td>
<td align="right">1800</td>
<td align="right">1800</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Synthea</td>
<td align="left">Celecoxib</td>
<td align="right">1</td>
<td align="left">GI bleed</td>
<td align="right">3</td>
<td align="right">9999</td>
<td align="left">All</td>
<td align="left">Any</td>
<td align="left">Any</td>
<td align="left">Any</td>
<td align="left">start</td>
<td align="right">0</td>
<td align="left">start</td>
<td align="right">365</td>
<td align="right">1800</td>
<td align="right">1800</td>
<td align="right">648214</td>
<td align="right">540789</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
<p>Finally, it is possible to get risk factors (associations between
features and the occurrence of the outcome during a time-at-risk) using
<code>getBinaryRiskFactors</code> to identify the binary features:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rf</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getBinaryRiskFactors.html">getBinaryRiskFactors</a></span><span class="op">(</span></span>
<span>    connectionHandler <span class="op">=</span> <span class="va">ConnectionHandler</span>,</span>
<span>    schema <span class="op">=</span> <span class="st">'main'</span>, </span>
<span>    targetId <span class="op">=</span> <span class="fl">1</span>, </span>
<span>    outcomeId <span class="op">=</span> <span class="fl">3</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="va">rf</span>, </span>
<span>  caption <span class="op">=</span> <span class="st">'Example risk factors for binary features results.'</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<table style="width:100%;" class="table">
<caption>Example risk factors for binary features results.</caption>
<colgroup>
<col width="4%">
<col width="4%">
<col width="5%">
<col width="4%">
<col width="6%">
<col width="7%">
<col width="7%">
<col width="6%">
<col width="5%">
<col width="4%">
<col width="4%">
<col width="7%">
<col width="4%">
<col width="3%">
<col width="4%">
<col width="4%">
<col width="5%">
<col width="4%">
<col width="3%">
</colgroup>
<thead><tr class="header">
<th align="left">databaseName</th>
<th align="left">targetName</th>
<th align="right">targetCohortId</th>
<th align="left">outcomeName</th>
<th align="right">outcomeCohortId</th>
<th align="right">minPriorObservation</th>
<th align="right">outcomeWashoutDays</th>
<th align="right">riskWindowStart</th>
<th align="right">riskWindowEnd</th>
<th align="left">startAnchor</th>
<th align="left">endAnchor</th>
<th align="left">covariateName</th>
<th align="right">covariateId</th>
<th align="right">caseCount</th>
<th align="right">caseAverage</th>
<th align="right">nonCaseCount</th>
<th align="right">nonCaseAverage</th>
<th align="right">SMD</th>
<th align="right">absSMD</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Synthea</td>
<td align="left">Celecoxib</td>
<td align="right">1</td>
<td align="left">GI bleed</td>
<td align="right">3</td>
<td align="right">365</td>
<td align="right">365</td>
<td align="right">1</td>
<td align="right">365</td>
<td align="left">cohort start</td>
<td align="left">cohort end</td>
<td align="left">age group: 30 - 34</td>
<td align="right">6003</td>
<td align="right">35</td>
<td align="right">0.0985916</td>
<td align="right">171</td>
<td align="right">0.1183391</td>
<td align="right">-0.0635357</td>
<td align="right">0.0635357</td>
</tr>
<tr class="even">
<td align="left">Synthea</td>
<td align="left">Celecoxib</td>
<td align="right">1</td>
<td align="left">GI bleed</td>
<td align="right">3</td>
<td align="right">365</td>
<td align="right">365</td>
<td align="right">1</td>
<td align="right">365</td>
<td align="left">cohort start</td>
<td align="left">cohort end</td>
<td align="left">age group: 35 - 39</td>
<td align="right">7003</td>
<td align="right">177</td>
<td align="right">0.4985915</td>
<td align="right">685</td>
<td align="right">0.4740484</td>
<td align="right">0.0789649</td>
<td align="right">0.0789649</td>
</tr>
<tr class="odd">
<td align="left">Synthea</td>
<td align="left">Celecoxib</td>
<td align="right">1</td>
<td align="left">GI bleed</td>
<td align="right">3</td>
<td align="right">365</td>
<td align="right">365</td>
<td align="right">1</td>
<td align="right">365</td>
<td align="left">cohort start</td>
<td align="left">cohort end</td>
<td align="left">age group: 40 - 44</td>
<td align="right">8003</td>
<td align="right">129</td>
<td align="right">0.3633803</td>
<td align="right">531</td>
<td align="right">0.3674740</td>
<td align="right">-0.0131713</td>
<td align="right">0.0131713</td>
</tr>
<tr class="even">
<td align="left">Synthea</td>
<td align="left">Celecoxib</td>
<td align="right">1</td>
<td align="left">GI bleed</td>
<td align="right">3</td>
<td align="right">365</td>
<td align="right">365</td>
<td align="right">1</td>
<td align="right">365</td>
<td align="left">cohort start</td>
<td align="left">cohort end</td>
<td align="left">age group: 45 - 49</td>
<td align="right">9003</td>
<td align="right">14</td>
<td align="right">0.0394366</td>
<td align="right">58</td>
<td align="right">0.0401384</td>
<td align="right">-0.0022579</td>
<td align="right">0.0022579</td>
</tr>
</tbody>
</table>
<p>and <code>getContinuousRiskFactors</code> for the continuous
features:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rf</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getContinuousRiskFactors.html">getContinuousRiskFactors</a></span><span class="op">(</span></span>
<span>    connectionHandler <span class="op">=</span> <span class="va">ConnectionHandler</span>,</span>
<span>    schema <span class="op">=</span> <span class="st">'main'</span>, </span>
<span>    targetId <span class="op">=</span> <span class="fl">1</span>, </span>
<span>    outcomeId <span class="op">=</span> <span class="fl">3</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="va">rf</span>, </span>
<span>  caption <span class="op">=</span> <span class="st">'Example risk factors for continuous features results.'</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<table class="table">
<caption>Example risk factors for continuous features results.</caption>
<colgroup>
<col width="2%">
<col width="1%">
<col width="2%">
<col width="3%">
<col width="17%">
<col width="1%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="3%">
<col width="3%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="1%">
<col width="2%">
<col width="3%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="1%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="3%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="1%">
<col width="1%">
</colgroup>
<thead><tr class="header">
<th align="left">databaseName</th>
<th align="left">targetName</th>
<th align="right">targetCohortId</th>
<th align="right">minPriorObservation</th>
<th align="left">covariateName</th>
<th align="right">covariateId</th>
<th align="right">targetCountValue</th>
<th align="right">targetMinValue</th>
<th align="right">targetMaxValue</th>
<th align="right">targetAverageValue</th>
<th align="right">targetStandardDeviation</th>
<th align="right">targetMedianValue</th>
<th align="right">targetP10Value</th>
<th align="right">targetP25Value</th>
<th align="right">targetP75Value</th>
<th align="right">targetP90Value</th>
<th align="left">outcomeName</th>
<th align="right">outcomeCohortId</th>
<th align="right">outcomeWashoutDays</th>
<th align="right">riskWindowStart</th>
<th align="right">riskWindowEnd</th>
<th align="left">startAnchor</th>
<th align="left">endAnchor</th>
<th align="right">caseCountValue</th>
<th align="right">caseMinValue</th>
<th align="right">caseMaxValue</th>
<th align="right">caseAverageValue</th>
<th align="right">caseStandardDeviation</th>
<th align="right">caseMedianValue</th>
<th align="right">caseP10Value</th>
<th align="right">caseP25Value</th>
<th align="right">caseP75Value</th>
<th align="right">caseP90Value</th>
<th align="right">SMD</th>
<th align="right">absSMD</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Synthea</td>
<td align="left">Celecoxib</td>
<td align="right">1</td>
<td align="right">365</td>
<td align="left">age in years</td>
<td align="right">1002</td>
<td align="right">1800</td>
<td align="right">31</td>
<td align="right">47</td>
<td align="right">38.645</td>
<td align="right">3.321244</td>
<td align="right">39</td>
<td align="right">34</td>
<td align="right">36</td>
<td align="right">41</td>
<td align="right">43</td>
<td align="left">GI bleed</td>
<td align="right">3</td>
<td align="right">365</td>
<td align="right">1</td>
<td align="right">365</td>
<td align="left">cohort start</td>
<td align="left">cohort end</td>
<td align="right">355</td>
<td align="right">32</td>
<td align="right">46</td>
<td align="right">38.77465</td>
<td align="right">3.274612</td>
<td align="right">39</td>
<td align="right">35</td>
<td align="right">36</td>
<td align="right">41</td>
<td align="right">43</td>
<td align="right">0.0393116</td>
<td align="right">0.0393116</td>
</tr>
<tr class="even">
<td align="left">Synthea</td>
<td align="left">Celecoxib</td>
<td align="right">1</td>
<td align="right">365</td>
<td align="left">observation time (days) after index</td>
<td align="right">1009</td>
<td align="right">1800</td>
<td align="right">10</td>
<td align="right">28328</td>
<td align="right">7588.082</td>
<td align="right">5352.386801</td>
<td align="right">6676</td>
<td align="right">1336</td>
<td align="right">3442</td>
<td align="right">10649</td>
<td align="right">14808</td>
<td align="left">GI bleed</td>
<td align="right">3</td>
<td align="right">365</td>
<td align="right">1</td>
<td align="right">365</td>
<td align="left">cohort start</td>
<td align="left">cohort end</td>
<td align="right">355</td>
<td align="right">10</td>
<td align="right">27390</td>
<td align="right">7524.37465</td>
<td align="right">5611.529121</td>
<td align="right">6708</td>
<td align="right">996</td>
<td align="right">3236</td>
<td align="right">10415</td>
<td align="right">14884</td>
<td align="right">-0.0116180</td>
<td align="right">0.0116180</td>
</tr>
<tr class="odd">
<td align="left">Synthea</td>
<td align="left">Celecoxib</td>
<td align="right">1</td>
<td align="right">365</td>
<td align="left">observation time (days) prior to index</td>
<td align="right">1008</td>
<td align="right">1800</td>
<td align="right">11369</td>
<td align="right">17044</td>
<td align="right">14114.684</td>
<td align="right">1195.708067</td>
<td align="right">14100</td>
<td align="right">12544</td>
<td align="right">13160</td>
<td align="right">15040</td>
<td align="right">15744</td>
<td align="left">GI bleed</td>
<td align="right">3</td>
<td align="right">365</td>
<td align="right">1</td>
<td align="right">365</td>
<td align="left">cohort start</td>
<td align="left">cohort end</td>
<td align="right">355</td>
<td align="right">11550</td>
<td align="right">16805</td>
<td align="right">14159.86761</td>
<td align="right">1176.652643</td>
<td align="right">14155</td>
<td align="right">12644</td>
<td align="right">13250</td>
<td align="right">15075</td>
<td align="right">15840</td>
<td align="right">0.0380906</td>
<td align="right">0.0380906</td>
</tr>
<tr class="even">
<td align="left">Synthea</td>
<td align="left">Celecoxib</td>
<td align="right">1</td>
<td align="right">365</td>
<td align="left">time (days) between cohort start and end</td>
<td align="right">1010</td>
<td align="right">1800</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0.000</td>
<td align="right">0.000000</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="left">GI bleed</td>
<td align="right">3</td>
<td align="right">365</td>
<td align="right">1</td>
<td align="right">365</td>
<td align="left">cohort start</td>
<td align="left">cohort end</td>
<td align="right">355</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0.00000</td>
<td align="right">0.000000</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">NaN</td>
<td align="right">NaN</td>
</tr>
<tr class="odd">
<td align="left">Synthea</td>
<td align="left">Celecoxib</td>
<td align="right">1</td>
<td align="right">365</td>
<td align="left">visit_occurrence concept count during day -365 through
0 concept_count relative to index: Inpatient Visit</td>
<td align="right">9201923</td>
<td align="right">-5</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="extracting-prediction-results">Extracting Prediction Results<a class="anchor" aria-label="anchor" href="#extracting-prediction-results"></a>
</h3>
<p>The model designs used to develop prediction models in an analysis
can be extracted using <code>getPredictionModelDesigns</code>:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">modelDesigns</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getPredictionModelDesigns.html">getPredictionModelDesigns</a></span><span class="op">(</span></span>
<span>    connectionHandler <span class="op">=</span> <span class="va">ConnectionHandler</span>,</span>
<span>    schema <span class="op">=</span> <span class="st">'main'</span>, </span>
<span>    targetIds <span class="op">=</span> <span class="fl">1002</span>, </span>
<span>    outcomeIds <span class="op">=</span> <span class="fl">3</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="va">modelDesigns</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span></span>
<span>      <span class="st">"modelDesignId"</span>,  </span>
<span>      <span class="st">"modelType"</span>,</span>
<span>      <span class="st">"developmentTargetId"</span>,</span>
<span>      <span class="st">"developmentTargetName"</span>,</span>
<span>      <span class="st">"developmentOutcomeId"</span>,   </span>
<span>      <span class="st">"developmentOutcomeName"</span>, </span>
<span>      <span class="st">"timeAtRisk"</span>,</span>
<span>      <span class="st">"meanAuroc"</span>, </span>
<span>      <span class="st">"noDevelopmentDatabases"</span></span>
<span>    <span class="op">)</span>, </span>
<span>  caption <span class="op">=</span> <span class="st">'Example model designs for the prediction results.'</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<table style="width:100%;" class="table">
<caption>Example model designs for the prediction results.</caption>
<colgroup>
<col width="5%">
<col width="4%">
<col width="8%">
<col width="31%">
<col width="8%">
<col width="9%">
<col width="17%">
<col width="4%">
<col width="9%">
</colgroup>
<thead><tr class="header">
<th align="right">modelDesignId</th>
<th align="left">modelType</th>
<th align="right">developmentTargetId</th>
<th align="left">developmentTargetName</th>
<th align="right">developmentOutcomeId</th>
<th align="left">developmentOutcomeName</th>
<th align="left">timeAtRisk</th>
<th align="right">meanAuroc</th>
<th align="right">noDevelopmentDatabases</th>
</tr></thead>
<tbody><tr class="odd">
<td align="right">1</td>
<td align="left">logistic</td>
<td align="right">1002</td>
<td align="left">Celecoxib - first event with 365 prior obs first event
with 365 prior obs</td>
<td align="right">3</td>
<td align="left">GI bleed</td>
<td align="left">( cohort start+1 ) - ( cohort start+365 )</td>
<td align="right">0.6885703</td>
<td align="right">1</td>
</tr></tbody>
</table>
<p>Once you know the modelDesignId of interest, you can then extract the
model performance:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">perform</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getPredictionPerformances.html">getPredictionPerformances</a></span><span class="op">(</span></span>
<span>    connectionHandler <span class="op">=</span> <span class="va">ConnectionHandler</span>,</span>
<span>    schema <span class="op">=</span> <span class="st">'main'</span>, </span>
<span>    modelDesignId <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="va">perform</span>, </span>
<span>  caption <span class="op">=</span> <span class="st">'Example performance for the prediction results.'</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<table style="width:100%;" class="table">
<caption>Example performance for the prediction results.</caption>
<colgroup>
<col width="2%">
<col width="2%">
<col width="3%">
<col width="3%">
<col width="3%">
<col width="12%">
<col width="3%">
<col width="12%">
<col width="3%">
<col width="3%">
<col width="12%">
<col width="3%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="3%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="2%">
<col width="2%">
<col width="1%">
<col width="2%">
<col width="6%">
<col width="3%">
</colgroup>
<thead><tr class="header">
<th align="right">performanceId</th>
<th align="right">modelDesignId</th>
<th align="right">developmentDatabaseId</th>
<th align="right">validationDatabaseId</th>
<th align="right">developmentTargetId</th>
<th align="left">developmentTargetName</th>
<th align="right">developmentOutcomeId</th>
<th align="left">developmentOutcomeName</th>
<th align="left">developmentDatabase</th>
<th align="left">validationDatabase</th>
<th align="left">validationTargetName</th>
<th align="left">validationOutcomeName</th>
<th align="left">timeStamp</th>
<th align="right">auroc</th>
<th align="right">auroc95lb</th>
<th align="right">auroc95ub</th>
<th align="right">calibrationInLarge</th>
<th align="right">eStatistic</th>
<th align="right">brierScore</th>
<th align="right">auprc</th>
<th align="right">populationSize</th>
<th align="right">outcomeCount</th>
<th align="right">evalPercent</th>
<th align="right">outcomePercent</th>
<th align="left">validationTimeAtRisk</th>
<th align="left">predictionResultType</th>
</tr></thead>
<tbody><tr class="odd">
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1002</td>
<td align="left">Celecoxib - first event with 365 prior obs first event
with 365 prior obs</td>
<td align="right">1002</td>
<td align="left">Celecoxib - first event with 365 prior obs first event
with 365 prior obs</td>
<td align="left">Synthea</td>
<td align="left">Synthea</td>
<td align="left">Celecoxib - first event with 365 prior obs first event
with 365 prior obs</td>
<td align="left">GI bleed</td>
<td align="left">2025-02-13</td>
<td align="right">0.6885703</td>
<td align="right">0.6264985</td>
<td align="right">0.7506421</td>
<td align="right">0.0976443</td>
<td align="right">0.0318938</td>
<td align="right">0.0720927</td>
<td align="right">0.3085693</td>
<td align="right">1800</td>
<td align="right">355</td>
<td align="right">24.94444</td>
<td align="right">19.72222</td>
<td align="left">( cohort start+1 ) - ( cohort start+365 )</td>
<td align="left">Development</td>
</tr></tbody>
</table>
<p>As well as the top predictors, in this case we will return the top
5:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">top5</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getPredictionTopPredictors.html">getPredictionTopPredictors</a></span><span class="op">(</span></span>
<span>    connectionHandler <span class="op">=</span> <span class="va">ConnectionHandler</span>,</span>
<span>    schema <span class="op">=</span> <span class="st">'main'</span>, </span>
<span>    targetIds <span class="op">=</span> <span class="fl">1002</span>, </span>
<span>    outcomeIds <span class="op">=</span> <span class="fl">3</span>,</span>
<span>    numberPredictors <span class="op">=</span> <span class="fl">5</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="va">top5</span> , </span>
<span>  caption <span class="op">=</span> <span class="st">'Example top five predictors.'</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<table class="table">
<caption>Example top five predictors.</caption>
<colgroup>
<col width="2%">
<col width="2%">
<col width="3%">
<col width="2%">
<col width="2%">
<col width="3%">
<col width="2%">
<col width="25%">
<col width="2%">
<col width="3%">
<col width="3%">
<col width="3%">
<col width="3%">
<col width="6%">
<col width="5%">
<col width="6%">
<col width="5%">
<col width="5%">
<col width="5%">
<col width="4%">
<col width="0%">
</colgroup>
<thead><tr class="header">
<th align="left">databaseName</th>
<th align="right">tarStartDay</th>
<th align="left">tarStartAnchor</th>
<th align="right">tarEndDay</th>
<th align="left">tarEndAnchor</th>
<th align="right">performanceId</th>
<th align="right">covariateId</th>
<th align="left">covariateName</th>
<th align="right">conceptId</th>
<th align="right">covariateValue</th>
<th align="right">covariateCount</th>
<th align="right">covariateMean</th>
<th align="right">covariateStDev</th>
<th align="right">withNoOutcomeCovariateCount</th>
<th align="right">withNoOutcomeCovariateMean</th>
<th align="right">withNoOutcomeCovariateStDev</th>
<th align="right">withOutcomeCovariateCount</th>
<th align="right">withOutcomeCovariateMean</th>
<th align="right">withOutcomeCovariateStDev</th>
<th align="right">standardizedMeanDiff</th>
<th align="right">rn</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Synthea</td>
<td align="right">1</td>
<td align="left">cohort start</td>
<td align="right">365</td>
<td align="left">cohort start</td>
<td align="right">1</td>
<td align="right">1901</td>
<td align="left">Charlson index - Romano adaptation</td>
<td align="right">0</td>
<td align="right">1.4448410</td>
<td align="right">935</td>
<td align="right">0.6144444</td>
<td align="right">0.6533777</td>
<td align="right">660</td>
<td align="right">0.5307958</td>
<td align="right">0.6301972</td>
<td align="right">275</td>
<td align="right">0.9549296</td>
<td align="right">0.6352971</td>
<td align="right">0.6702998</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Synthea</td>
<td align="right">1</td>
<td align="left">cohort start</td>
<td align="right">365</td>
<td align="left">cohort start</td>
<td align="right">1</td>
<td align="right">4266809210</td>
<td align="left">condition_era group (ConditionGroupEraLongTerm) during
day -365 through 0 days relative to index: Diverticular disease</td>
<td align="right">4266809</td>
<td align="right">0.5045103</td>
<td align="right">338</td>
<td align="right">0.1877778</td>
<td align="right">0.3905346</td>
<td align="right">210</td>
<td align="right">0.1453287</td>
<td align="right">0.3524320</td>
<td align="right">128</td>
<td align="right">0.3605634</td>
<td align="right">0.4801640</td>
<td align="right">0.5110418</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="left">Synthea</td>
<td align="right">1</td>
<td align="left">cohort start</td>
<td align="right">365</td>
<td align="left">cohort start</td>
<td align="right">1</td>
<td align="right">4285898212</td>
<td align="left">condition_era group (ConditionGroupEraShortTerm) during
day -30 through 0 days relative to index: Polyp of colon</td>
<td align="right">4285898</td>
<td align="right">0.4321971</td>
<td align="right">28</td>
<td align="right">0.0155556</td>
<td align="right">0.1237481</td>
<td align="right">13</td>
<td align="right">0.0089965</td>
<td align="right">0.0944225</td>
<td align="right">15</td>
<td align="right">0.0422535</td>
<td align="right">0.2011670</td>
<td align="right">0.2116439</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">Synthea</td>
<td align="right">1</td>
<td align="left">cohort start</td>
<td align="right">365</td>
<td align="left">cohort start</td>
<td align="right">1</td>
<td align="right">2007</td>
<td align="left">index month: 2</td>
<td align="right">0</td>
<td align="right">-0.2439688</td>
<td align="right">124</td>
<td align="right">0.0688889</td>
<td align="right">0.2532651</td>
<td align="right">104</td>
<td align="right">0.0719723</td>
<td align="right">0.2584421</td>
<td align="right">20</td>
<td align="right">0.0563380</td>
<td align="right">0.2305733</td>
<td align="right">-0.0638383</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td align="left">Synthea</td>
<td align="right">1</td>
<td align="left">cohort start</td>
<td align="right">365</td>
<td align="left">cohort start</td>
<td align="right">1</td>
<td align="right">6007</td>
<td align="left">index month: 6</td>
<td align="right">0</td>
<td align="right">-0.1786601</td>
<td align="right">144</td>
<td align="right">0.0800000</td>
<td align="right">0.2712932</td>
<td align="right">122</td>
<td align="right">0.0844291</td>
<td align="right">0.2780302</td>
<td align="right">22</td>
<td align="right">0.0619718</td>
<td align="right">0.2411044</td>
<td align="right">-0.0862999</td>
<td align="right">5</td>
</tr>
</tbody>
</table>
<p>You can also select certain results such as the attrition:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">attrition</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getPredictionPerformanceTable.html">getPredictionPerformanceTable</a></span><span class="op">(</span></span>
<span>    connectionHandler <span class="op">=</span> <span class="va">ConnectionHandler</span>,</span>
<span>    schema <span class="op">=</span> <span class="st">'main'</span>, </span>
<span>    table <span class="op">=</span> <span class="st">'attrition'</span>,</span>
<span>    performanceId <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="va">attrition</span> , </span>
<span>  caption <span class="op">=</span> <span class="st">'Example prediction attrition for performance 1.'</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<table class="table">
<caption>Example prediction attrition for performance 1.</caption>
<colgroup>
<col width="10%">
<col width="7%">
<col width="54%">
<col width="9%">
<col width="10%">
<col width="7%">
</colgroup>
<thead><tr class="header">
<th align="right">performanceId</th>
<th align="right">outcomeId</th>
<th align="left">description</th>
<th align="right">targetCount</th>
<th align="right">uniquePeople</th>
<th align="right">outcomes</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="right">3</td>
<td align="left">Original cohorts</td>
<td align="right">1800</td>
<td align="right">1800</td>
<td align="right">355</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="right">3</td>
<td align="left">Initial plpData cohort or population</td>
<td align="right">1800</td>
<td align="right">1800</td>
<td align="right">355</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="right">3</td>
<td align="left">No prior outcome</td>
<td align="right">1800</td>
<td align="right">1800</td>
<td align="right">355</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="right">3</td>
<td align="left">Removing non-outcome subjects with insufficient time at
risk (if any)</td>
<td align="right">1800</td>
<td align="right">1800</td>
<td align="right">355</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="extracting-estimation-results">Extracting Estimation Results<a class="anchor" aria-label="anchor" href="#extracting-estimation-results"></a>
</h3>
<p>It is possible to extract cohort method and self controlled case
series results and make nice plots.</p>
<p>To extract all the cohort method estimations for target id 1002 and
outcome 3:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cmEst</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getCMEstimation.html">getCMEstimation</a></span><span class="op">(</span></span>
<span>    connectionHandler <span class="op">=</span> <span class="va">ConnectionHandler</span>,</span>
<span>    schema <span class="op">=</span> <span class="st">'main'</span>, </span>
<span>    targetIds <span class="op">=</span> <span class="fl">1002</span>, </span>
<span>    comparatorIds <span class="op">=</span> <span class="fl">2002</span>,</span>
<span>    outcomeIds <span class="op">=</span> <span class="fl">3</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="va">cmEst</span> , </span>
<span>  caption <span class="op">=</span> <span class="st">'Example cohort method estimation results.'</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<table style="width:100%;" class="table">
<caption>Example cohort method estimation results.</caption>
<colgroup>
<col width="2%">
<col width="2%">
<col width="10%">
<col width="15%">
<col width="1%">
<col width="15%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="3%">
<col width="3%">
<col width="2%">
<col width="4%">
<col width="3%">
<col width="3%">
<col width="3%">
<col width="3%">
<col width="2%">
<col width="3%">
<col width="3%">
<col width="3%">
<col width="3%">
</colgroup>
<thead><tr class="header">
<th align="left">databaseName</th>
<th align="right">analysisId</th>
<th align="left">description</th>
<th align="left">targetName</th>
<th align="right">targetId</th>
<th align="left">comparatorName</th>
<th align="right">comparatorId</th>
<th align="left">outcomeName</th>
<th align="right">outcomeId</th>
<th align="right">calibratedRr</th>
<th align="right">calibratedCi95Lb</th>
<th align="right">calibratedCi95Ub</th>
<th align="right">calibratedP</th>
<th align="right">calibratedOneSidedP</th>
<th align="right">calibratedLogRr</th>
<th align="right">calibratedSeLogRr</th>
<th align="right">targetSubjects</th>
<th align="right">comparatorSubjects</th>
<th align="right">targetDays</th>
<th align="right">comparatorDays</th>
<th align="right">targetOutcomes</th>
<th align="right">comparatorOutcomes</th>
<th align="left">targetEstimator</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Synthea</td>
<td align="right">1</td>
<td align="left">No matching, simple outcome model</td>
<td align="left">Celecoxib - first event with 365 prior obs first event
with 365 prior obs</td>
<td align="right">1002</td>
<td align="left">Diclofenac - first event with 365 prior obs first event
with 365 prior obs</td>
<td align="right">2002</td>
<td align="left">GI bleed</td>
<td align="right">3</td>
<td align="right">1.832771</td>
<td align="right">0.9724055</td>
<td align="right">3.454372</td>
<td align="right">0.1078385</td>
<td align="right">0.0639169</td>
<td align="right">0.6058291</td>
<td align="right">0.3233791</td>
<td align="right">1800</td>
<td align="right">830</td>
<td align="right">540789</td>
<td align="right">261005</td>
<td align="right">355</td>
<td align="right">124</td>
<td align="left">ate</td>
</tr>
<tr class="even">
<td align="left">Synthea</td>
<td align="right">2</td>
<td align="left">Matching on ps and covariates, simple outcomeModel</td>
<td align="left">Celecoxib - first event with 365 prior obs first event
with 365 prior obs</td>
<td align="right">1002</td>
<td align="left">Diclofenac - first event with 365 prior obs first event
with 365 prior obs</td>
<td align="right">2002</td>
<td align="left">GI bleed</td>
<td align="right">3</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">829</td>
<td align="right">829</td>
<td align="right">263258</td>
<td align="right">260639</td>
<td align="right">117</td>
<td align="right">124</td>
<td align="left">att</td>
</tr>
</tbody>
</table>
<p>You can also extract any meta-analysis estimate for cohort
method:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cmMe</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getCmMetaEstimation.html">getCmMetaEstimation</a></span><span class="op">(</span></span>
<span>    connectionHandler <span class="op">=</span> <span class="va">ConnectionHandler</span>,</span>
<span>    schema <span class="op">=</span> <span class="st">'main'</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="va">cmMe</span> , </span>
<span>  caption <span class="op">=</span> <span class="st">'Example cohort method meta analysis estimation results.'</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<table style="width:100%;" class="table">
<caption>Example cohort method meta analysis estimation
results.</caption>
<colgroup>
<col width="4%">
<col width="3%">
<col width="3%">
<col width="3%">
<col width="2%">
<col width="4%">
<col width="4%">
<col width="3%">
<col width="3%">
<col width="4%">
<col width="5%">
<col width="5%">
<col width="3%">
<col width="6%">
<col width="4%">
<col width="5%">
<col width="4%">
<col width="5%">
<col width="3%">
<col width="4%">
<col width="4%">
<col width="5%">
<col width="3%">
</colgroup>
<thead><tr class="header">
<th align="left">databaseName</th>
<th align="right">analysisId</th>
<th align="left">description</th>
<th align="left">targetName</th>
<th align="right">targetId</th>
<th align="left">comparatorName</th>
<th align="right">comparatorId</th>
<th align="left">outcomeName</th>
<th align="right">outcomeId</th>
<th align="right">calibratedRr</th>
<th align="right">calibratedCi95Lb</th>
<th align="right">calibratedCi95Ub</th>
<th align="right">calibratedP</th>
<th align="right">calibratedOneSidedP</th>
<th align="right">calibratedLogRr</th>
<th align="right">calibratedSeLogRr</th>
<th align="right">targetSubjects</th>
<th align="right">comparatorSubjects</th>
<th align="right">targetDays</th>
<th align="right">comparatorDays</th>
<th align="right">targetOutcomes</th>
<th align="right">comparatorOutcomes</th>
<th align="right">nDatabases</th>
</tr></thead>
<tbody></tbody>
</table>
<p>and you can create a nice plot to show the results:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plotCmEstimates.html">plotCmEstimates</a></span><span class="op">(</span></span>
<span>  cmData <span class="op">=</span> <span class="va">cmEst</span>, </span>
<span>  cmMeta <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  targetName <span class="op">=</span> <span class="st">'Example Target'</span>, </span>
<span>  comparatorName <span class="op">=</span> <span class="st">'Example Comp'</span>, </span>
<span>  selectedAnalysisId <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="ExampleCode_files/figure-html/unnamed-chunk-16-1.png" width="700"></p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jenna Reps, Anthony Sena.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer>
</div>





  </body>
</html>
